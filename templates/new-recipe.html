<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  {% extends "layout.html" %}
  {% block title %}Lisää resepti{% endblock %}
</head>
<body>
  {% block content %}
  <h2>Lisää uusi resepti</h2>
  <p>
    <form action="/add-recipe" method="POST" onsubmit="return check(this)">
      <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
      <p>
        Otsikko: <br>
        <input type="text" name="title" size="50" maxlength="50">
      </p>
      <p>
        Kuvaus: <br>
        <textarea name="description" rows="3" cols="40" maxlength="200"></textarea>
      </p>
      <p>
        Ainesosat: <br>
        <p><input type="text" name="ingredient" size="50" maxlength="100"></p>
        <p><input type="text" name="ingredient" size="50" maxlength="100"></p>
        <p><input type="text" name="ingredient" size="50" maxlength="100"></p>
        <p><input type="text" name="ingredient" size="50" maxlength="100"></p>
        <p><input type="text" name="ingredient" size="50" maxlength="100"></p>
        <p><input type="text" name="ingredient" size="50" maxlength="100"></p>
        <p><input type="text" name="ingredient" size="50" maxlength="100"></p>
        <p><input type="text" name="ingredient" size="50" maxlength="100"></p>
        <p><input type="text" name="ingredient" size="50" maxlength="100"></p>
      </p>
      <p>
        Ohje: <br>
        <textarea name="instruction" rows="6" cols="40" maxlength="2000"></textarea>
      </p>
      <p>
        Tagit: <br>
        {% for t in tags %}
        <input type="checkbox" name="tag" value="{{ t[0] }}"> {{ t[0] }}
        {% endfor %}
      </p>
      <input type="submit" value="Lisää">
    </form>
  </p>
  <script>
    function check(form) {
      if (form.title.value.length == 0) {
        alert("Anna reseptille otsikko.");
      } else if (form.title.value.length > 50) {
        alert("Otsikon maksimipituus on 50 merkkiä.");
      } else if (form.description.value.length > 200) {
        alert("Kuvauksen maksimipituus on 200 merkkiä.");
      } else if (form.instruction.value.length > 2000) {
        alert("Ohjeen maksimipituus on 2000 merkkiä.");
      } else {
        return true;
      }
      return false;
    }
  </script>
  {% endblock %}
</body>
</html>